apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: infra
  description: test adding componant
  annotations:
    kubernetes.io/cluster-name: management-cluster
    backstage.io/kubernetes-label-selector: 'app' 
#    backstage.io/kubernetes-id: my-service 
    kubernetes.io/namespace: crossplane-system
  tags:
    - website
spec:
  type: service
  lifecycle: production
  owner: infrastructure-team
  system: cloud-platform
---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: cloud-platform
  description: "Plateforme cloud bas√©e sur Crossplane"
spec:
  owner: infrastructure-team
  domain: infrastructure
---
apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: pull-request
  title: Pull Request Action template
  description: scaffolder v1beta3 template demo publishing to PR on existing git repository
spec:
  owner: backstage/techdocs-core
  type: service

  parameters:
    - title: Fill in some steps
      required:
        - name
      properties:
        name:
          title: Name
          type: string
          description: Unique name of the component
          ui:field: EntityNamePicker
          ui:autofocus: true
        description:
          title: Description
          type: string
          description: Description of the component
        targetPath:
          title: Target Path in repo
          type: string
          description: Name of the directory to create in the repository
    - title: Choose a location
      required:
        - repoUrl
      properties:
        repoUrl:
          title: Repository Location
          type: string
          ui:field: RepoUrlPicker
          ui:options:
            allowedHosts:
              - github.com
