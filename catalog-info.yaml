apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: infra
  description: test adding componant
  annotations:
    kubernetes.io/cluster-name: management-cluster
    backstage.io/kubernetes-label-selector: 'app' 
#    backstage.io/kubernetes-id: my-service 
    kubernetes.io/namespace: crossplane-system
  tags:
    - website
spec:
  type: service
  lifecycle: production
  owner: infrastructure-team
  system: cloud-platform
---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: cloud-platform
  description: "Plateforme cloud bas√©e sur Crossplane"
spec:
  owner: infrastructure-team
  domain: infrastructure
---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: cluster-eks
  annotations:
    kubernetes.io/api-server: 'https://23530AE722BC5E09909B4C2C8E6C6091.yl4.eu-west-3.eks.amazonaws.com'
    kubernetes.io/api-server-certificate-authority: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJQTJpekdtNWNyQWN3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TlRBME1qUXdPREl3TURSYUZ3MHpOVEEwTWpJd09ESTFNRFJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURRcHdPRW1mTDBHeEY5ZVVEWFFIUW9UUEIwYUs4NHNLaEZ4U1IxMThVZWlWUW9sT0w1SE1zOGwvSnoKSEg0VG1zVml3QXNXNnJGMGNEcWpLQk83V1pRNDNJSVBrNzYyNGttTEVOcG1rdEl6U2ZydmVqLyt2Y3ZVd2JvaQp5Um85bXovOEFmWlpVVmNiaU9yb2VxOW9QUWdWSmMwcmFLNUFaWENYL3dqZ0xGTlpXY216RGJrZGx0ajl4NnduCjQzRlJLZlhoVTdHUFBibFFMOHdmV2pLSFFXbGduSk1TT0Q4ZHEvc3VPaCtBZGZCZjdmZzBHMXJTNWx0MXRMeEYKYUJoWE1pV1I0Y1A2bGJsOWtFTmxKSjY4akhxU2Z4Tkx0dWN0WGkrOGR3SGVDZ0U1NlRjRnBtVUMwUWszU09Yawpsc2xFa0svNDFLd3llVUhxdTZ1OTdRWkdZaC83QWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTZDRRWFRRVm9zS1hzZ2VLZUE4K1dYUHhpdEtqQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQ2I3QW1sQUs4cQpGc0tDS0JzVWNCU0pGajhrRlZFc1dZZDlUZ1hNSHpkTUdrTzlobEl6TXZUejcrb1h4SXlGeEI3UU9EOUZKTmFrCkRSb0s3NURlUlRyOVg3R2c5VnZQdzF5di9EeHBNbjBzS2R3ZWNNYWxTdnQrN2ZWT0FLYmdXNUNLdFhtTTVuZjMKRUc2Vkk3MjcwZTlvbXJHV0dKVlc3dXlhK3JxbXFIdDF4eUNOa0hkL3l3NzVEOWRic3RsNGxKcFlzWlJPSm1ERQp2ai90SVdzTDRiNTNETGxDL1RhUEtpdkVhM1R1a1hISUVlbkNjai85R3UzazYxYXcvdjBIYXAzQmNlSXYrOFhnCisxUHQzaGhObTNyZW9HRVlFaXlDT1VWUGNNWXZ2cTJQS3BXcm1EQXFGUDRlUlRtOUNnWFBOYWZmMVFyckQwWFAKSDNNVndVeVZ1M3QxCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K'
    kubernetes.io/auth-provider: 'serviceAccount'
    kubernetes.io/oidc-token-provider: 'microsoft'
    kubernetes.io/skip-metrics-lookup: 'true'
spec:
  type: kubernetes-cluster
  owner: user:guest
---
apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  annotations:
    backstage.io/kubernetes-id: management-cluster
    backstage.io/kubernetes-namespace: crossplane-system
  name: cluster-edge
  description: It rolls dice
  tags:
    - go
spec:
  type: service
  lifecycle: production
  owner: guest
  dependsOn: ['resource:my-cluster']

